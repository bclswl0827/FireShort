"use strict";(self.webpackChunkfire_short=self.webpackChunkfire_short||[]).push([[36],{6036:function(t,e,r){r.r(e),r.d(e,{default:function(){return I}});var n=r(4165),a=r(5861),c=r(5671),s=r(3144),i=r(136),u=r(7277),o=r(7313),l=r(1109),f=r(922),h=r(19),p=r(5608),d=r(6690),m=r(6417),x=function(t){(0,i.Z)(r,t);var e=(0,u.Z)(r);function r(){return(0,c.Z)(this,r),e.apply(this,arguments)}return(0,s.Z)(r,[{key:"render",value:function(){var t="input-".concat(Math.random().toString(36).substring(2,15)),e=this.props,r=e.label,n=e.icon,a=e.type,c=e.placeholder,s=e.onInput;return(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)("label",{htmlFor:t,className:"block mb-2 text-sm font-medium text-white",children:r}),(0,m.jsxs)("div",{className:"relative mb-6",children:[(0,m.jsx)("div",{className:"absolute inset-y-0 left-0 flex items-center pl-3",children:(0,m.jsx)("img",{src:n,alt:"",className:"w-5 h-5"})}),(0,m.jsx)("input",{id:t,type:a,className:"border text-sm rounded-sm block w-full pl-10 p-2.5",placeholder:c,onInput:s})]})]})}}]),r}(o.Component),v=function(t){(0,i.Z)(r,t);var e=(0,u.Z)(r);function r(){return(0,c.Z)(this,r),e.apply(this,arguments)}return(0,s.Z)(r,[{key:"render",value:function(){var t=this.props,e=t.children,r=t.icon,n=t.position,a=t.fullWidth,c=t.onClick;return(0,m.jsx)("div",{className:"".concat("left"===n&&"flex justify-start","\n                            ").concat("right"===n&&"flex justify-end","\n                            ").concat("center"===n&&"flex justify-center"),children:(0,m.jsxs)("button",{className:"".concat(a&&"w-full"," text-white bg-transparent font-medium rounded-sm text-sm px-5 py-2.5 mt-12 flex gap-2 justify-center"),onClick:c,children:[r&&(0,m.jsx)("img",{src:r,alt:"",className:"w-5 h-5"}),(0,m.jsx)("span",{className:"text-center",children:e})]})})}}]),r}(o.Component);var b=r.p+"static/media/link-solid.230f9fe971104cd0932b688b7255800c.svg";var g=r.p+"static/media/pencil-solid.cd49795e7cebc8ddd537ff7d3164808f.svg";var k=r.p+"static/media/bookmark-regular.10b984e631f7d17ac6551e4396a37e90.svg";var Z=r.p+"static/media/check-solid.3d37aa84fa3cb6d58187da6d3fc94c0b.svg",w=function(t){var e=/^((https|http|ftp)?:\/\/)[^\s]+/.test(t)&&t.length<=255;return{error:!e,message:e?"":"\u94fe\u63a5\u5185\u5bb9\u4e0d\u5408\u6cd5\uff0c\u8bf7\u68c0\u67e5\u662f\u5185\u5bb9\u5426\u4ee5 http:// \u6216 https:// \u5f00\u5934\uff0c\u6216\u957f\u5ea6\u662f\u5426\u8d85\u8fc7 512 \u4e2a\u5b57\u7b26"}},j=function(t){var e=/^[a-zA-Z0-9-_]+$/.test(t)&&t.length>=4&&t.length<=10||0===t.length;return{error:!e,message:e?"":"\u77ed\u94fe\u4e0d\u5408\u6cd5\uff0c\u8bf7\u68c0\u67e5\u5185\u5bb9\u662f\u5426\u5b58\u5728\u7279\u6b8a\u5b57\u7b26\uff0c\u957f\u5ea6\u662f\u5426\u5c11\u4e8e 4 \u4e2a\u6216\u8d85\u8fc7 10 \u4e2a\u5b57\u7b26"}},y=function(t){var e=t.length<=100;return{error:!e,message:e?"":"\u5907\u6ce8\u4e0d\u5408\u6cd5\uff0c\u8bf7\u7f29\u77ed\u5907\u6ce8\u957f\u5ea6\u81f3 100 \u4e2a\u5b57\u7b26\u4ee5\u5185"}},C=r(7134),N=r(7498),S=function(){return Math.random().toString(36).slice(-4)},B=r(6422),T=function(){var t=(0,a.Z)((0,n.Z)().mark((function t(e){var r,a,c,s,i,u;return(0,n.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.url,a=e.slug,c=e.remark,s=e.firebase,i=e.user,u="".concat(s,"/shorts/").concat(a,".json"),t.next=4,(0,B.Z)({method:"put",slient:!0,url:u,data:{url:r,slug:a,remark:c,timestamp:Date.now(),user:i}});case 4:if(200===t.sent.status){t.next=7;break}return t.abrupt("return",Promise.reject("\u77ed\u94fe\u751f\u6210\u63a5\u5931\u8d25"));case 7:return t.abrupt("return",a);case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),O=T,D=r(1402),I=function(t){(0,i.Z)(r,t);var e=(0,u.Z)(r);function r(t){var s;return(0,c.Z)(this,r),(s=e.call(this,t)).handleSubmit=(0,a.Z)((0,n.Z)().mark((function t(){var e,r,a,c,i,u,o,l,f,h,p,m,x,v,b;return(0,n.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e=d.Z.app,r=e.router,a=e.firebase,c=s.state,i=c.url,u=c.slug,o=c.remark,l=0,f=Object.keys(s.state);case 3:if(!(l<f.length)){t.next=22;break}h=f[l],p={error:!1,message:""},t.t0=h,t.next="url"===t.t0?9:"slug"===t.t0?11:"remark"===t.t0?13:15;break;case 9:return p=w(i),t.abrupt("break",16);case 11:return p=j(u),t.abrupt("break",16);case 13:return p=y(o),t.abrupt("break",16);case 15:return t.abrupt("break",16);case 16:if(!p.error){t.next=19;break}return(0,C.sD)({title:"\u53d1\u751f\u9519\u8bef",html:p.message}),t.abrupt("return");case 19:l++,t.next=3;break;case 22:return(0,C.xi)({title:"\u8bf7\u7a0d\u7b49",html:"\u8bf7\u7a0d\u7b49\u7247\u523b\uff0c\u77ed\u94fe\u63a5\u9a6c\u4e0a\u521b\u5efa\u5b8c\u6210",timer:1e4,loading:!0}),u.length||(u=S(),s.setState({slug:u})),m="".concat(window.location.protocol,"/"),x="".concat(window.location.host),t.prev=26,t.next=29,(0,N.Z)({slug:u,firebase:a});case 29:(0,C.sD)({title:"\u53d1\u751f\u9519\u8bef",html:'\u5f85\u521b\u5efa\u77ed\u94fe <a href="'.concat(m,"/").concat(x).concat("hash"===r?"/#":"","/").concat(u,'" target="_blank" rel="noreferrer">').concat(x).concat("hash"===r?"/#":"","/").concat(u,"</a> \u5df2\u5b58\u5728\uff0c\u8bf7\u5237\u65b0\u9875\u9762\u6216\u66f4\u6362\u81ea\u5b9a\u4e49\u77ed\u94fe\u540e\u91cd\u8bd5")}),t.next=46;break;case 32:return t.prev=32,t.t1=t.catch(26),t.prev=34,v=(0,D.$o)("userInfo"),t.next=38,O({url:i,slug:u,remark:o,firebase:a,user:v});case 38:b=t.sent,(0,C.Cq)({title:"\u521b\u5efa\u6210\u529f",html:'\u77ed\u94fe\u63a5 <a href="'.concat(m,"/").concat(x).concat("hash"===r?"/#":"","/").concat(b,'" target="_blank" rel="noreferrer">').concat(x).concat("hash"===r?"/#":"","/").concat(b,"</a> \u5df2\u521b\u5efa\u6210\u529f")}),s.setState({slug:S()}),t.next=46;break;case 43:t.prev=43,t.t2=t.catch(34),(0,C.sD)({title:"\u53d1\u751f\u9519\u8bef",html:"\u77ed\u94fe\u63a5\u521b\u5efa\u5931\u8d25\uff0c\u8bf7\u7a0d\u540e\u91cd\u8bd5"});case 46:case"end":return t.stop()}}),t,null,[[26,32],[34,43]])}))),s.state={url:"",slug:"",remark:""},s}return(0,s.Z)(r,[{key:"render",value:function(){var t=this,e=d.Z.site,r=e.title,n=e.name,a=e.copyright;return document.title=r,(0,m.jsxs)(l.Z,{children:[(0,m.jsx)(f.Z,{children:n}),(0,m.jsxs)(p.Z,{children:[(0,m.jsx)(x,{label:"1. \u5f85\u7f29\u77ed\u94fe\u63a5\uff08\u5fc5\u586b\uff09",icon:b,type:"text",placeholder:"\u4f8b\u5982 https://example.com",onInput:function(e){return t.setState({url:e.currentTarget.value})}}),(0,m.jsx)(x,{label:"2. \u81ea\u5b9a\u4e49\u77ed\u94fe\uff08\u53ef\u9009\uff09",icon:g,type:"text",placeholder:"\u81f3\u5c11 4 \u4e2a\u5b57\u7b26\uff0c\u4f8b\u5982 abcd",onInput:function(e){return t.setState({slug:e.currentTarget.value})}}),(0,m.jsx)(x,{label:"3. \u94fe\u63a5\u5907\u6ce8\uff08\u53ef\u9009\uff09",icon:k,type:"text",placeholder:"\u4f8b\u5982\u300c\u7ed9\u5973\u670b\u53cb\u7684\u5c0f\u60ca\u559c\u300d",onInput:function(e){return t.setState({remark:e.currentTarget.value})}}),(0,m.jsx)(v,{fullWidth:!0,icon:Z,onClick:this.handleSubmit,children:"\u521b\u5efa\u77ed\u94fe\u63a5"})]}),(0,m.jsx)(h.Z,{children:a})]})}}]),r}(o.Component)},5608:function(t,e,r){r.d(e,{Z:function(){return o}});var n=r(5671),a=r(3144),c=r(136),s=r(7277),i=r(7313),u=r(6417),o=function(t){(0,c.Z)(r,t);var e=(0,s.Z)(r);function r(){return(0,n.Z)(this,r),e.apply(this,arguments)}return(0,a.Z)(r,[{key:"render",value:function(){var t=this.props.children;return(0,u.jsx)("div",{className:"flex-grow text-2xl md:w-[100vh]",children:t})}}]),r}(i.Component)},19:function(t,e,r){r.d(e,{Z:function(){return o}});var n=r(5671),a=r(3144),c=r(136),s=r(7277),i=r(7313),u=r(6417),o=function(t){(0,c.Z)(r,t);var e=(0,s.Z)(r);function r(){return(0,n.Z)(this,r),e.apply(this,arguments)}return(0,a.Z)(r,[{key:"render",value:function(){var t=this.props.children;return(0,u.jsx)("footer",{className:"text-center text-gray-400 m-4",children:(0,u.jsxs)("span",{children:["\xa9 ".concat((new Date).getFullYear().toString()," ").concat(t," | Powered by "),(0,u.jsx)("a",{className:"underline",href:"https://github.com/bclswl0827/FireShort",rel:"noreferrer",target:"_blank",children:"Fire Short"})]})})}}]),r}(i.Component)},922:function(t,e,r){r.d(e,{Z:function(){return o}});var n=r(5671),a=r(3144),c=r(136),s=r(7277),i=r(7313),u=r(6417),o=function(t){(0,c.Z)(r,t);var e=(0,s.Z)(r);function r(){return(0,n.Z)(this,r),e.apply(this,arguments)}return(0,a.Z)(r,[{key:"render",value:function(){var t=this.props.children;return(0,u.jsxs)("div",{className:"text-4xl flex-grow font-bold w-full text-center p-4",children:[t,(0,u.jsx)("hr",{className:"border mt-4"})]})}}]),r}(i.Component)},7498:function(t,e,r){var n=r(4165),a=r(5861),c=r(6422),s=function(){var t=(0,a.Z)((0,n.Z)().mark((function t(e){var r,a,s,i,u,o,l,f,h;return(0,n.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.slug,a=e.firebase,s="".concat(a,"/shorts/").concat(r,".json"),t.next=4,(0,c.Z)({method:"get",slient:!0,url:s});case 4:if(null!==(i=t.sent).data){t.next=7;break}return t.abrupt("return",Promise.reject("\u67e5\u65e0\u6b64\u77ed\u94fe"));case 7:return u=i.data,o=u.remark,l=u.url,f=u.timestamp,h=u.user,t.abrupt("return",{timestamp:f,remark:o,url:l,slug:r,user:h});case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();e.Z=s},7134:function(t,e,r){r.d(e,{Cq:function(){return i},_1:function(){return o},sD:function(){return u},xi:function(){return l}});var n=r(4165),a=r(5861),c=r(7114),s=r.n(c),i=function(t){var e=t.title,r=t.html;return s().fire({title:e,html:r,icon:"success",confirmButtonText:"OK",allowOutsideClick:!1})},u=function(t){var e=t.title,r=t.html;return s().fire({title:e,html:r,icon:"error",confirmButtonText:"OK",allowOutsideClick:!1})},o=function(){var t=(0,a.Z)((0,n.Z)().mark((function t(e){var r,a,c,i,u,o;return(0,n.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.title,a=e.html,c=e.confirmButtonText,i=e.cancelButtonText,u=e.callback,t.next=3,s().fire({title:r,html:a,icon:"warning",showCancelButton:!!i,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",allowOutsideClick:!1,cancelButtonText:i,confirmButtonText:c});case 3:return(o=t.sent).value&&u&&u(),t.abrupt("return",o);case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),l=function(){var t=(0,a.Z)((0,n.Z)().mark((function t(e){var r,a,c,i,u;return(0,n.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.title,a=e.html,c=e.timer,i=e.loading,u=e.callback,t.next=3,s().fire({title:r,html:a,timer:c,timerProgressBar:!0,allowOutsideClick:!1,showConfirmButton:!1,didOpen:function(){i&&s().showLoading()},willClose:function(){clearInterval(undefined)}}).then((function(t){return t.dismiss===s().DismissReason.timer&&u&&u(),t}));case 3:return t.abrupt("return",t.sent);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}}]);